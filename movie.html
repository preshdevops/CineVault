<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Title</title>
    <link rel="shortcut icon" href="./assets/icon.png" type="image/x-icon" />
    <link rel="stylesheet" href="global.css">
    <link rel="stylesheet" href="movie.css">
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
      rel="stylesheet">
      <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr"
      crossorigin="anonymous"
    />
    <script
      src="https://kit.fontawesome.com/9a6b632d22.js"
      crossorigin="anonymous"
    ></script>
</head>
<body>
  <header>
      <div class="navigation">
        <img src="./assets/logo.svg" alt="" />
        <nav class="navbar navbar-expand-md">
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="people.html">People</a></li>
            <li><a href="watchlist.html">Watchlist</a></li>
          </ul>
        </nav>
        <form action="">
          <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Search movies..." />
            <span class="search-icon"><i class="search-icon fa-solid fa-magnifying-glass"></i></span>
            <div id="results" class="search-results"></div>
          </div>
        </form>
      </div>
    </header>
    <!-- movie.html -->
<div id="movie-details" class="movie-details">
  
</div>


<script>
const apiKey = '9f2e12cbe9a18cbe4f36bedcb199814b';
const params = new URLSearchParams(window.location.search);
const movieId = params.get('id');

// Get movie details
fetch(`https://api.themoviedb.org/3/movie/${movieId}?api_key=${apiKey}`)
  .then(res => res.json())
  .then(movie => {
    document.getElementById('movie-details').innerHTML = `
    <div class="image">
        <img src="https://image.tmdb.org/t/p/w500${movie.poster_path}" />
      </div>  
    <div class="about-container">
        <h1>${movie.title}</h1>
        <h2>${movie.tagline}</h2>
        <p class="date"><strong>Release Date:</strong> ${movie.release_date}</p>
        <p><strong>Overview:</strong> ${movie.overview}</p>
        <p><strong>Rating:</strong> ${movie.vote_average} / 10</p>
      </div>
    `;
  })
  .catch(err => {
    document.getElementById('movie-details').textContent = 'Movie not found ðŸ˜”';
    console.error(err);
  });

// Get movie videos (like trailers)
fetch(`https://api.themoviedb.org/3/movie/${movieId}/videos?api_key=${apiKey}&language=en-US`)
  .then(res => res.json())
  .then(res => {
    console.log(res);
    // You could embed the trailer here too if you want
  })
  .catch(err => console.error(err));

</script>

</body>
</html>